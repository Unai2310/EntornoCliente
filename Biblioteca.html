<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biblioteca</title>
    <style>
        div {
            border: 5px solid black;
            border-collapse: collapse;
            width: 30%;
        }
    </style>
</head>
<body>
    <div id="contenedor" >
        <h2>Biblioteca</h2>
        <label id="Titulo" onclick="marcarLabel(this.id)">Titulo: </label><input type="text"><br>
        <label id="Autor" onclick="marcarLabel(this.id)">Autor: </label><input type="text"><br>
        <label id="Editorial" onclick="marcarLabel(this.id)">Editorial: </label><input type="text"><br>
        <label id="A침o Edicion" onclick="marcarLabel(this.id)">A침o Edicion: </label><input type="date"><br>
        <textarea id="info"></textarea><br>
        <input type="button" onclick="guardarLibro()" value="GUARDAR"><input type="button" onclick="mostrarLibro()" value="VISUALIZAR">
    </div>
    <script>
        let libros = [];
        let texto = "";
        var campos = document.getElementsByTagName("input");
        var labels = document.getElementsByTagName("label");
        function guardarLibro() {
            if (validarNulos()) {
                const book = new Libro(campos[0].value, campos[1].value, campos[2].value, campos[3].value);
                libros.push(book);
                document.getElementById("info").value = "Libro a침adido";
                limpiarCampos();
            } else {
                alert("Hay campos vacios");
            }
        }

        function marcarLabel(control) {
            let i = 0;
            labelNormal();
            while (labels[i].id != control) {
                labelNormal();
                i++;
            }
            document.getElementById(control).textContent = "游댍 " + document.getElementById(control).textContent;
        }

        function mostrarLibro() {
            document.getElementById("info").value = "";
            libros.forEach(muestrArray);
            document.getElementById("info").value = texto;
        }

        function muestrArray (libro, index) {
            texto += "Libro N췈" + index+1 + 
            "\nTitulo: " + libro.titulo + 
            "\nAutor" + libro.autor + 
            "\nEditorial: " + libro.editorial + 
            "\nA침o Edici칩n: " + libro.anio + "\n\n";
        }

        function limpiarCampos() {
            campos[0].value = "";
            campos[1].value = "";
            campos[2].value = "";
            campos[3].value = "";
        }

        function labelNormal() {
            for (let i = 0;i<labels.length;i++) {
                labels[i].textContent = labels[i].id + ": ";
            }
        }

        function validarNulos() {
            if (campos[0].value=="" || campos[1].value=="" || campos[2].value=="" || campos[3].value=="") {
                return false;
            } else {
                return true;
            }
        }

        class Libro {
            constructor(titulo, autor, editorial, anio) {
                this.titulo = titulo;
                this.autor = autor;
                this.editorial = editorial;
                this.anio = anio;
            }
        }
    </script>
</body>
</html>